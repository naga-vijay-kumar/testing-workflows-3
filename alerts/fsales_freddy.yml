alert_params:
  "fs_forecasting_error":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: fs_forecasting_log AND message: ERROR "
      alert_subject: "Error - Forecasting"
      alerta_severity: critical
      alerta_environment: fsales-freddy
  
  "lead_scoring_monit_resource_matched":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_monit_log AND message: 'matches resource limit' "
      alert_subject: "Lead Scoring Monit memory Limit matched"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_monit_resource_matched":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_monit_log AND message: 'matches resource limit' "
      alert_subject: "Freddy DB Monit memory Limit matched"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "lead_scoring_monit_doesnt_exist":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_monit_log AND message: 'process is not running' "
      alert_subject: "Lead Scoring Monit doesnt Exist"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_monit_doesnt_exist":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_monit_log AND message: 'process is not running' "
      alert_subject: "Freddy DB Monit doesnt Exist"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "lead_scoring_monit_not_monitored":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_monit_log AND message: 'Shutting down monit HTTP server' "
      alert_subject: "Lead Scoring Monit not monitored"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_monit_not_monitored":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_monit_log AND message: 'Shutting down monit HTTP server' "
      alert_subject: "Freddy DB Monit not monitored"
      alerta_severity: critical
      alerta_environment: fsales-freddy
  
  "lead_scoring_lock_wait_timeout":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_log AND message: 'Lock wait timeout exceeded' "
      alert_subject: "Lead Scoring Lock Wait Timeout"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_lock_wait_timeout":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_log AND message: 'Lock wait timeout exceeded' "
      alert_subject: "Freddy DB Lock Wait Timeout"
      alerta_severity: critical
      alerta_environment: fsales-freddy
  
  "lead_scoring_deadlock":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_log AND message: 'Deadlock found when trying to get lock' "
      alert_subject: "Lead Scoring Deadlock"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_deadlock":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_log AND message: 'Deadlock found when trying to get lock' "
      alert_subject: "Freddy DB Deadlock"
      alerta_severity: critical
      alerta_environment: fsales-freddy
  
  "lead_scoring_rollback_required":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_log AND message: 'To begin a new transaction with this Session, first issue Session.rollback()' "
      alert_subject: "Lead Scoring rollback_required"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_rollback_required":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_log AND message: 'To begin a new transaction with this Session, first issue Session.rollback()' "
      alert_subject: "Freddy DB rollback_required"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "lead_scoring_broken_transport_failure":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_log AND message: 'FindCoordinator response error: Local: Broker transport failure' "
      alert_subject: "Lead Scoring Broker transport failure"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_broken_transport_failure":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_log AND message: 'FindCoordinator response error: Local: Broker transport failure' "
      alert_subject: "Freddy DB Broker transport failure"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "lead_scoring_mysql_away":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_log AND message: 'MySQL server has gone away' "
      alert_subject: "Lead Scoring MySQL server has gone away"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_mysql_away":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_log AND message: 'MySQL server has gone away' "
      alert_subject: "Freddy DB MySQL server has gone away"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "lead_scoring_retries_exhaused":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_log AND message: 'All retries exhausted' "
      alert_subject: "Lead Scoring retries exhausted"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_retries_exhaused":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_log AND message: 'All retries exhausted' "
      alert_subject: "Freddy DB retries exhausted"
      alerta_severity: critical
      alerta_environment: fsales-freddy
  "lead_scoring_commit_failed":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freshsales_lead_scoring_log AND message: 'DB session commit failed' "
      alert_subject: "Lead Scoring DB session commit failed"
      alerta_severity: critical
      alerta_environment: fsales-freddy

  "freddy_db_commit_failed":  
      type: any
      index: fsales-freddy*
      aggregation:
        minutes: 1
      filter:
      - query:
          query_string:
             query: "name: freddy_db_log AND message: 'DB session commit failed' "
      alert_subject: "Freddy DB  session commit failed"
      alerta_severity: critical
      alerta_environment: fsales-freddy
